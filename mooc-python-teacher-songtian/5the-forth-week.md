函数和代码复用
- 函数的定义与使用
- 实例7：七段数码管绘制
- 代码复用与函数递归
- PyInstaller库的使用
— 实例8:科赫雪花小包裹
方法论
 - Python基本代码抽象即函数的使用方法

实践能力
 - 学会编写带有函数并复用代码的程序


## 函数的定义与使用
- 函数的理解与定义
- 函数的使用及调用过程
— 函数的参数传递
- 函数的返回值
- 局部变量和全局变量
- lambda函数

 函数的理解与定义
 - 函数是一段具有特定功能的可重用的与剧组
 - 函数是一种功能的抽象，一般函数表达特定功能
 - 两个作用: 降低编程难度和代码复用

函数是一段代码的表示
    def <函数名>(参数(0个或多个)):
        <函数体>
        return <返回值>

    案例：计算n!
    def fact(n):
    s = 1
    for i in range(1,n+1):
        s *= i
    return s


y = f(x)
 - 函数定义时，所指定的参数是一种占位符
 - 函数定义后，如果不经过调用，不会被执行
 - 函数定义时，参数是输入、函数体是处理、结果是输出（IPO）

 函数的调用

调用是运行函数代码的方式

def fact(n):
    ...
fact(10)

函数的参数传递
    参数个数
    可以有参数，也可以没有参数，但必须保留括号

#实例：七段数码管 七个基本线条构成
形成 0 1 2 3 4 5 6 7 8 9 A B C d E F

- 需求： 用程序绘制七段数码管，似乎很有趣
- 该怎么做？
turtle绘图体系  来形成七段数码管绘制

基本思路：
 - 步骤1： 绘制单个数字对应的数码管
    - 七段数码管由7个基本线条构成
    - 七段数码管可以有固定顺序
    - 不同数字显示不同的线条
 - 步骤2： 获得一串数字，绘制对应的数码管
 - 步骤3： 获得当前系统时间，绘制对应的数码管

##
绘制漂亮的七段数码管

- 增加七段数码管的间隔

drawGap()

- 使用time库来获取系统当前时间
- 增加年月日标记
- 年月日颜色不同

举一反三：
理解方法思维
- 模块化思维：确定模块接口，封装功能
- 规则化思维：抽象过程为规则，计算机自动执行
- 化繁为简：将大功能变为小功能，分而治之

#SeverDigitDrawV2.py

应用问题的扩展
- 绘制带小数点的七段数码管
- 代刷新的时间倒计时效果
- 绘制高级的数码管




#代码复用于函数递归
- 代码复用与模块化设计
- 函数递归的理解
- 函数递归的调用过程
- 函数递归实例解析


## 1. 代码复用与模块化设计

代码复用
打代码当成资源进行抽象

- 代码资源化：程序代码使用用来表达计算的“资源”
- 代码抽象化：使用函数等方法对代码赋予更高级别的定义
- 代码复用： 同一份代码在需要时可以被重复使用

### 函数和对象是代码复用的两种主要形式

函数：将代码命名在代码层面建立了初步抽象
对象：属性和方法 <a>.<b>和<a>.<b>()在函数之上再次组织进行抽象


模块化设计
“分而治之”
- 通过函数或对象封装将程序划分为模块及模块间的表达
- 具体包括：主程序、子程序和子程序间的关系
- 分而治之：一种分而治之、分层抽象、体系化的设计思想

“紧耦合，松耦合”
- 紧耦合： 两个部分之间交流很多，无法独立存在
- 松耦合： 两个部分之间交流较少，可以独立存在
- 模块内部紧耦合，模块之间松耦合



函数递归的理解
递归的定义
函数定义中调用函数自身的方式

n! = 1     ,n=0
   =n(n-1),otherwise

两个关键特征：
- 链条： 计算过程中存在递归链条
- 基例： 存在一个或多个不需要再次递归的基例


类似数学归纳法：
- 数学归纳法：
- 证明当n取第一个值n0时命题成立
- 假设当nk时命题成立，证明当n=n(k+1)时命题也成立
- 递归是数学法思维在编程当中的一种体现

递归的实现
n! = 1     ,n=0
   =n(n-1),otherwise

def fact(n):
    if n==0:
        return 1:
    else:
        return n*fact(n-1)

递归的实现
    函数+ 分支语句
- 递归本身是一个函数，需要定义函数定义方式描述
- 函数内部，采用分支语句对输入参数进行判断
- 基例和链条，分别编写对应代码

递归的调用过程：
    当n=5时，会调用fact(5)的内容，接着遇到代码fact(4),然后会单独开辟一段空间来计算fact(4).

函数递归实例解析：
字符串反转：
    将字符串s反转输出
    >>>s[::-1] -1的步长从后往前输出
- 函数+分支结构
- 分支中来区分递归链条和基例

def rvs(s):
    if s == "":
        return s
    else:
        return rvs(s[1:])+s[0]
  

斐波那契数列数列：
    一个经典数列：

        F(n)= 1                 n=1
              1                 n=2
              F(n-1)+F(n-2)     otherwise

    F(n) = F(n-1)+F(n-2)
                            def f(n):
    - 函数 + 分支结构                 if n == 1 or n == 2:
    - 递归链条                           return 1

    - 递归基例                       else:
                                        return f(n-1)+f(n-2)


# 汉诺塔：
       递归：函数+分支机构
   将n个有序的圆盘从A柱子经中间柱子B搬到C柱子，其中：src表示A柱子，dst表示C柱子，mid表示中间柱子B。

   count = 0
   def hanoi(n,src,dst,mid):
        global count
        if n == 1:  基例
            print("{}:{}->{}".format(1,src,dst))
            count +=1
        处理n与n-1的关系：将n-1的圆盘搬到中间柱子mid,将A柱子剩的最后一个目标圆盘搬到目标柱子C：
        else:
            hanoi(n-1,src,mid,dst)
            print("{}:{}->{}".format(n,src,dst))
            count+=1
            hanoi(n-1,mid,dst,src)
对递归链条的描述。


# 模块四：PyInstaller库的使用

将.py源代码转换成无需源代码的可执行文件

- .py  -> PyInstaller ->  - windows(exe文件)
                          - Linux
                          - Mac OS X


PyInstaller 库描述
    第三方库
    - 官方网站： http://www.pyinstaller.org
    - 使用前需要使用Pip工具
使用：
    (cmd命令行) pyinstaller -F <文件名.py>

pyinstall 库常用参数

- h   查看帮助
-- clean 清理打包过程中大的临时文件
-D,--onedir 默认值，生成dist文件夹
-F,--onefile 在dist文件夹中只生成独立的打包文件
-i <图标文件名.ico>指定打包程序使用的图标(icon)文件

使用举例：
 pyinstaller -i curve.ico -F XX.py
 # 将图标与打包的文件关联，打包后的exe文件可以直接发送给别人。

# 5.5 实例8 科赫雪花小包裹
高大上的分型几何
- 分形几何是一种迭代的几何图形，广泛存在于自然界中

科赫雪花绘制
用Python绘制科赫曲线
绘制n阶科赫曲线线段

- 递归思想： 函数+分支
- 递归链条：线段的组合
- 递归基例：初识线段


import turtle
def koch(size,n):
    if n == 0:
        turtle.fd(size)
    else:
        for angle in [0,60,-120,60]:
            turtle.left(angle)
            koch(size/3,n-1)
def main():
    turtle.setup(800,600)
    turtle.penup()
    turtle.goto(-300,-50)
    turtle.pendown()
    turtle.pensize(2)
    koch(600,3)  # 3阶科赫曲线，阶数
    turtle.hideturtle()
main()



科赫曲线的绘制 -> 科赫雪花的绘制


import turtle
def koch(size,n):
    if n == 0:
        turtle.fd(size)
    else:
        for angle in [0,60,-120,60]:
            turtle.left(angle)
            koch(size/3,n-1)
def main():
    turtle.setup(800,600)
    turtle.penup()
    turtle.goto(-300,-50)
    turtle.pendown()
    turtle.pensize(2)
    level = 3  # 3阶科赫雪花，阶数
    koch(400,level)
    turtle.right(120)
    koch(400,level)
    turtle.right(120)
    koch(400,level)
    turtle.right(120)
    turtle.hideturtle()
main()

科赫雪花 -- 举一反三
绘制条件的扩展
- 修改分形几何绘制阶数
- 修改科赫曲线的基本定义以及旋转角度
- 修改绘制科赫雪花的基础框架图形

分形几何千千万
- 康托尔基，谢尔宾斯基三角形，门格海绵
- 龙形曲线，空间填充曲线，科赫曲线
- 函数递归的深入应用


